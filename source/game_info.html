<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Informations de la Partie</title>
    <style>
        body { font-family: sans-serif; margin: 20px; }
        h1 { text-align: center; }
        .player-info { border: 1px solid #ccc; padding: 10px; margin-bottom: 20px; }
        .building-list, .unit-list { margin-top: 10px; }
        .building-list li, .unit-list li { margin-bottom: 5px; }
        .position { font-style: italic; color: #777; }
    </style>
</head>
<body>
    <h1>Informations de la Partie</h1>
    <div id="game-data"></div>

    <script>
        function fetchGameData() {
            fetch('game_info.json')
                .then(response => response.json())
                .then(data => {
                    displayGameData(data);
                })
                .catch(error => console.error('Erreur lors de la requête du fichier JSON:', error));
        }

        function displayGameData(gameData) {
            const gameDataDiv = document.getElementById('game-data');
            gameDataDiv.innerHTML = ''; // Clear existing content

            gameData.players.forEach(player => {
                const playerDiv = document.createElement('div');
                playerDiv.classList.add('player-info');
                playerDiv.innerHTML = `<h2>Joueur ${player.id}</h2>`;

                playerDiv.innerHTML += '<h3>Bâtiments:</h3>';
                if (player.buildings.length > 0) {
                  const buildingList = document.createElement('ul');
                    player.buildings.forEach(building => {
                        const li = document.createElement('li');
                         li.innerHTML = `${building.name} - HP: ${building.hp} <span class="position">(${building.position[0]}, ${building.position[1]})</span>`;
                        buildingList.appendChild(li);
                    });
                  playerDiv.appendChild(buildingList);
                } else {
                   playerDiv.innerHTML += "<p>Aucun bâtiment.</p>"
                }

                 playerDiv.innerHTML += '<h3>Unités:</h3>';
                if (player.units.length > 0) {
                  const unitList = document.createElement('ul');
                    player.units.forEach(unit => {
                       const li = document.createElement('li');
                         li.innerHTML = `${unit.name} - HP: ${unit.hp} <span class="position">(${unit.position[0]}, ${unit.position[1]})</span>`;
                         unitList.appendChild(li);
                    });
                  playerDiv.appendChild(unitList);
                } else {
                   playerDiv.innerHTML += "<p>Aucune unité.</p>"
                }
                gameDataDiv.appendChild(playerDiv);
            });
        }

        fetchGameData();
    </script>
</body>
</html>